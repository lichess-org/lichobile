.analyse-clock
  font-family 'Roboto'

.analyseSettings
  font-size 0.9em
  label[for='showComments']
    text-transform capitalize

  .ceval-multipv
    display flex
    justify-content space-between
    > .slider
      width 30%
      height 20px

.analyse-table, .explorerTable
  flex 1 1 auto
  display flex

.analyse-boardWrapper
  flex-grow 0
  flex-shrink 0
  align-self center

.analyse-table
  position relative

.analyse-header
  background-color bgdark
  flex 0 0 25px
  overflow hidden
  display flex
  flex-flow row nowrap
  align-items center
  align-content center
  @media only screen and (orientation: landscape) and (min-width 768px) and (min-height 768px)
    flex 0 0 40px

.analyse-tabs
  flex 1 1 auto
  display flex
  flex-flow row nowrap
  align-items center
  justify-content space-between
  font-size 0.95em
  min-width 0 // fix white-space nowrap
  > .tab-title
    flex 1 1 auto
    padding 0 0.5em
    overflow hidden
    white-space nowrap
    text-overflow ellipsis
    > div
      overflow hidden
      text-overflow ellipsis

.analyse-tabContentTitle
  font-family 'Roboto'
  text-align: center;
  white-space: nowrap;
  margin: 1.5em 0 3px 0;
  display: table;
  padding: 0 10px;
  &:before, &:after
    border-top: 1px solid #404040;
    content: '';
    display: table-cell;
    position: relative;
    top: .5em;
    width: 45%;
  &:before
    right 8px
  &:after
    left 8px

.tabs-navigation.analyse
  background inherit
  flex 0 0 auto
  height 25px
  > .tab-button
    font-size inherit
    position relative
    padding 0 0.5em
    height 25px
    > .chip
      height 11px
      width 11px
      line-height 11px
      font-size 9px
      text-align center
      top 3px
      right 1px
      background darken(gold, 25%)
      color #fff
      border 0
      border-radius 3px
      // text-shadow 0 1px 0 #000

.analyse-tableWrapper
  flex 1 1 auto
  display flex
  flex-flow column nowrap
  min-width 0 // fix width bug on landscape
  min-height 0 // fix chrome 73 regression
  @media only screen and (orientation: portrait) and (min-width 768px) and (min-height 768px)
    margin 0 3vw
  @media only screen and (orientation: landscape) and (min-width 768px) and (min-height 768px)
    margin 3vh

.analyse-table
  flex-flow column nowrap
  font-size 0.9em
  overflow hidden

.analyse-chart
  height 150px

.analyse-autoplay
  font-size 0.9em
  display flex
  width 100%
  justify-content space-evenly

.analyse_actions_bar
  flex 0 0 40px
  padding 0
  width 100%
  overflow hidden
  @media only screen and (orientation: landscape) and (min-width 768px) and (min-height 768px)
    flex 0 0 110px
    flex-flow row wrap
    > .action_bar_button
      flex 1 1 33%

.analyse-infosBox
  flex 1 1 40%
  display flex
  flex-flow column nowrap
  > .native_scroller
    flex 1 1 auto

.analyse-loadingReplay
  flex 1 1 auto
  display flex
  justify-content center
  align-items center
  > .spinner
    width 40px
    height 40px

.analyse-replayWrapper
  display: flex
  flex-flow column nowrap
  min-height 0 // fix chrome 73 regression
  > .native_scroller
    // flex height
    height initial

.analyse-fixedBar
  background-color lighten(headerBgDark, 5%)
  flex 0 0 25px
  display flex
  padding 0 10px
  flex-flow row nowrap
  justify-content space-between
  align-items center

.analyse-replay
  flex 1 1 auto
  position relative
  font-size 1.03em
  white-space normal
  line-height 1.05em
  &.rta
    border-right 2px solid rgba(green2, 0.75)
  &.displayPieces
    move
      font-family ChessSansPiratf

.analyse-checkCount
  > span:first-child
    margin-right 0.5em

.analyse-openingBox
  line-height 25px
  padding 0 4px
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size 0.75em
  background lighten(bgdark, 5%)

.analyse-moveList
  padding 5px
  white-space normal
  &.ios
    comment
      vertical-align initial

index
  color rgba(textDarkBg, 50%)
  margin-right 0.2em
  font-weight normal

move
  display inline-block
  padding: 0.25em 0.17em
  overflow hidden
  white-space nowrap
  border-radius 3px
  font-weight bold
  &.current
    color #fff
    background rgba(blue, 0.8)
    > index
      color #fff
  &.active
    background lighten(bgdark, 10%)
  &.currentPlayable
    border: 1px solid orange

glyph
  font-size 0.85em
  margin-left 0.2em

eval
  text-align right
  font-size 0.65em
  font-weight lighter
  color rgba(textDarkBg, 75%)

interrupt
  font-size 0.9em

lines
  display block
  border-left 2px solid rgba(textDarkBg, 80%)

line
  display block
  &:before
    display inline-block
    margin-bottom 5px
    content: ' '
    border-top: 2px solid rgba(textDarkBg, 80%)
    width: 6px
    height: 6px
  &.visiting
    white-space normal
  > move
    color rgba(textDarkBg, 0.7)
  > .nested
    margin-left 5px

inline
  display: inline;
  font-style: italic;
  font-size: 0.9em;
  color rgba(textDarkBg, 0.8)
  &:before, &:after
    vertical-align 45%
  &:before
    content: '(';
    margin-left: 2px;
  &:after
    content: ')';
    margin-right: 2px;

comment
  display inline
  font-size 0.9em
  color rgba(textDarkBg, 0.7)
  margin 0 0.2em 0 0.1em
  word-wrap break-word
  vertical-align 45%

.analyse-gameInfos
  display flex
  flex-flow column nowrap
  justify-content flex-start
  align-items center
  padding 2vmin
  width 100%
  font-size 0.9rem
  > .gameInfos
    font-size 0.9em
  > .status
    font-size 0.9em
    margin-top 5px
  > .analyse-tournamentInfo
    margin-top 5px

.analyseOpponent
  text-align left
  margin-bottom 0.5em

.analyseClock
  font-family 'Roboto'
  font-size 0.9em
  > span
    margin-left 5px

.analysePlayerName
  overflow hidden
  text-overflow ellipsis

.analyse-training_box
  position absolute
  bottom 0
  left 0
  height 100%
  width 100%
  display flex
  flex-flow column nowrap
  &.minimized
    height 28px
  .icon
    display: block;
    width: 64px;
    height: 64px;
    margin-right: 10px;
    font-size: 50px;
    font-size: 64px;
    line-height: 64px;
    text-align: center;
  > .titleWrapper
    flex 0 0 28px
    background-color darkBlue
    color headerBgDarkColor
    display flex
    flex-flow row nowrap
    justify-content space-between
    align-items center
    padding-left 10px
    > .actions
      flex 0 0 auto
      display flex
    > div
      white-space nowrap
      overflow hidden
      text-overflow ellipsis
    > .mistakeNb
      flex 0 0 50px
      text-align center

.analyse-training_feedback
  height initial
  flex 1 1 auto
  display flex
  flex-flow column nowrap
  justify-content center

.analyse-training_player
  display flex
  flex-flow row wrap
  align-items center
  margin 0 1em
  > .piece-no-square
    flex 0 0 64px
  @media only screen and (orientation: landscape)
    flex-flow column nowrap
    > .piece-no-square
      margin-bottom 2vmin

.analyse-training_progress
  margin-top: 5px;
  opacity: 0.8;
  width: 100%;
  height: 4px;
  background: #ddd;
  > div
    background: #759900;
    height: 4px;
    transition: width 0.5s;
    max-width: 100%;

.analyse-training_box_instruction
  display flex
  flex-flow column nowrap

  > strong
    font-size 1.1em

  > .choices
    display flex
    flex-flow column nowrap
    align-items flex-start
    margin-top 0.5em

    > button
      padding 0

.analyse-practice_box
  > .comment
    flex: 0 0 30px;
    display: flex;
    align-items: stretch;
    background: #302e2c
    border-top: 1px solid 1px solid #d9d9d9;
    white-space: nowrap;
    line-height: 30px;
    > move
      padding 0
      margin-left 0.5em
  .verdict {
    font-weight: bold;
    margin-right: 10px;
    display: flex;
  }
  .verdict::before {
    width: 30px;
    height: 100%;
    color: #fff;
    margin-right: 7px;
    text-align: center;
    font-size: 1.4em;
    font-weight: normal;
  }
  .analyse-training_progress div {
    background: darken(textDarkBg, 30%)
  }
  &.goodMove .analyse-training_progress div {
    background: green
    color: #fff;
  }
  &.inaccuracy .analyse-training_progress div {
    background: gold
    color: #fff;
  }
  &.mistake .analyse-training_progress div,
  &.blunder .analyse-training_progress div {
    background: red
    color: #fff;
  }
  &.goodMove .verdict {
    color: green
  }
  &.goodMove .verdict::before {
    background: green
    content: '✓';
    font-size: 1.7em;
  }
  &.inaccuracy .verdict {
    color: gold
  }
  &.inaccuracy .verdict::before {
    background: gold
    content: '?';
  }
  &.mistake .verdict,
  &.blunder .verdict {
    color: red
  }
  &.mistake .verdict::before,
  &.blunder .verdict::before {
    background: red
    content: '✗';
  }


.view-container.light

  .analyse-fixedBar
    background-color bglight

  .analyse-header
    background-color themeBgLightHeader
    border-bottom 1px solid borderLightGray
    .tab-button
      color textGray

  .analyse-tabsContent
    border-bottom 1px solid borderLightGray
    background #fff

  .analyse-tabContentTitle
    &:before, &:after
      border-color: themeBgLightBorder

  inline
    color rgba(textLightBg, 0.8)

  comment
    color rgba(textLightBg, 0.7)

  index
    color rgba(textLightBg, 0.5)

  move
    color inherit
    &.active
      background darken(bglight, 10%)
    &.current
      background blue
      color #fff
      > index
        color #fff

  line > move
    color rgba(textLightBg, 0.7)

  .analyse-openingBox
    background darken(bglight, 5%)

  .analyse_variant_selector
    background: themeBgLight
    text-shadow: 0 1px 0 #FFF;
    color: #848484;

  .analyse-training_box.box
    background #fff

  .analyse-practice_box
    > .comment
      background #f7f6f5


.view-container.transp

  .analyse-tabContentTitle
    &:before, &:after
      border-color: transpWhite01

  .analyse-training_box.box
    background-color #f5f5f5
    color textDarkGray

  .analyse-practice_box
    > .comment
      background darken(#f5f5f5, 10%)

  .analyse-fixedBar
    background-color transpBlack02

  .analyse-header
    background-color transpBlack06

  .tabs-navigation.analyse
    background-color initial

  .analyse_variant_selector.select_input
    > label:after
      color rgba(textTransp, 0.7)
    background transparent

  move
    color textTransp
    &.current
      background-color transpWhite05
      color #fff
    &.active
      background-color transpWhite01

  line > move
    color rgba(textTransp, 0.7)

  index
    color transpWhite04

  inline, comment
    color transpWhite05

  .analyse-cevalBox, .analyse-infosBox
    background transpBlack03

  .ceval-curEval
    background transparent
    border-right 1px solid transpWhite01

  .analyse-openingBox
    background rgba(255,255,255,0.1)

  .analyse_actions_bar
    background transpBlack06
